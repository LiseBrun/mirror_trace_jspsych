<!DOCTYPE html>
<html>
    <head>
        <title>Study on Line Tracing Task | LPNC</title>

        <!-- jsPsych core library and plugins -->
      <script src="jspsych-6.3.0/jspsych.js"></script>
      <script src="jspsych-6.3.0/plugins/jspsych-html-keyboard-response.js"></script>
      <script src="jspsych-6.3.0/plugins/jspsych-image-keyboard-response.js"></script>
      <script src="jspsych-6.3.0/plugins/jspsych-preload.js"></script>
      <link href="jspsych-6.3.0/css/jspsych.css" rel="stylesheet" type="text/css">

      <!-- Line tracing task -->
      <script src="task/base64.js" type="text/javascript"></script>
      <script src="task/canvas2image.js" type="text/javascript"></script>
      <script src="task/jquery.js" type="text/javascript"></script>
      <script src="task/color_trace.js" type="text/javascript"></script>

  </head>
  <body></body>

  <script>

  /* create timeline */
      var timeline = [];

/* welcome message */
      var welcome = {
        type: "html-keyboard-response",
        stimulus: "Welcome to the experiment. Press any key to begin."
      };
      timeline.push(welcome);

/* instructions trial */
      var instructions_1 = {
          type: "html-keyboard-response",
          stimulus: `
          <p>In this task, you will have to reproduce a figure with your mouse.</p>
          <p>In each trial, you will see two rectangular panels: the drawing panel
          is at the bottom; this is where you will move the mouse cursor; the
          figure panel is at the top, this is where you will see the figure to reproduce.</p>
          <p>Press any key to begin.</p>
          `,
            };
      timeline.push(instructions_1);


      var instructions_2 = {
          type: "html-keyboard-response",
          stimulus: `
          <p>To begin a trial, move the mouse so that your cursor rests over
          the green circle in the drawing panel.</p><p>Then click the left
          mouse button to signal that you are ready to begin.</p><p> Once the
          trial begins, a red target circle appears in the mirror panel.</p>
          <p>Trace the figure working from the starting point towards the red target circle.</p>
          <p>The trial ends automatically when you reach the red circle.</p>
          <p>Press any key to begin.</p>
          `,
            };
      timeline.push(instructions_2);

/* display canvas */

      var display_canvas = {
        type: "html-keyboard-response",
        stimulus: `
        <div id="miror_div">
        <canvas id="mirror" width="400" height="300" style="border:1px solid #000000;"></canvas>
        </div>
        <div id="sketch" >
        <canvas id="paint" width="400" height="300" style="border:1px solid #000000;"></canvas>
        </div>
        <div id="status"></div>
        <p>Press any key to begin.</p>
        `,
      };
        timeline.push(display_canvas);

/* task */


      /* start the experiment */
      jsPsych.init({
        timeline: timeline
        });

   </script>
</html>
